/*
-----------
Global
-----------
*/
const KEY_tttScore = "ttt_score"
function element(selector) {
    return document.querySelector(selector)
}
function elements(selector) {
    return document.querySelectorAll(selector)
}
Object.prototype.clone = function() {
    let newObj = (this instanceof Array) ? [] : {}
    for (let i in this) {
        if (i == 'clone')
            continue
        if (this[i] && typeof this[i] == "object") {
            newObj[i] = this[i].clone()
        }
        else
            newObj[i] = this[i]
    } return newObj
}
/*
-----------
Slider
-----------
*/

const sliderGoLeft = element("#sliderGoLeft")
const sliderGoRight = element("#sliderGoRight")
const sliderContainer = element('.characterSlider__container')
const characters = elements('.characterSlider__container__item')
let sliderPos = 0

sliderGoLeft.addEventListener('click',function (e) {
    actualizeSliderPosition(e,(sliderPos > 0) ? sliderPos - 1 : sliderPos)
})

sliderGoRight.addEventListener('click',function (e) {
    actualizeSliderPosition(e,(sliderPos < characters.length - 1) ? sliderPos + 1 : sliderPos)
})

function actualizeSliderPosition(e,newPos){
    e.preventDefault()
    characters[sliderPos].classList.remove("focus")
    sliderPos = newPos
    characters[sliderPos].classList.add("focus")
    sliderContainer.style.left = 26 - (28 * sliderPos) + "vw"
}
let userScore = parseInt(localStorage.getItem(KEY_tttScore))
if (!isNaN(userScore)){
    element("#userScore").innerHTML = "Your current best score : "+userScore.toLocaleString('fr')+ "pts"
}